# 函数
## 函数声明
function 关键字首先出现，然后是 函数名，然后是括号之间的 参数 列表（用逗号分隔），最后是花括号之间的代码（即“函数体”）。

我们的新函数可以通过名称调用：showMessage()。
```js
function showMessage() {
  alert( 'Hello everyone!' );
}

showMessage();
```
调用 showMessage() 执行函数的代码
## 局部变量
在函数中声明的变量只在该函数内部可见。
## 外部变量
函数也可以访问外部变量。

函数对外部变量拥有全部的访问权限。函数也可以修改外部变量。

只有在没有局部变量的情况下才会使用外部变量。

如果在函数内部声明了同名变量，那么函数会 遮蔽 外部变量。例如，在下面的代码中，函数使用局部的 userName，而外部变量被忽略：
```js
let userName = 'John';

function showMessage() {
  let userName = "Bob"; // 声明一个局部变量

  let message = 'Hello, ' + userName; // Bob
  alert(message);
}

// 函数会创建并使用它自己的 userName
showMessage();

alert( userName ); // John，未被更改，函数没有访问外部变量。
```
全局变量:
1. 任何函数之外声明的变量，例如上述代码中的外部变量 userName，都被称为 全局 变量。
2. 全局变量在任意函数中都是可见的（除非被局部变量遮蔽）。
3. 减少全局变量的使用是一种很好的做法。现代的代码有很少甚至没有全局变量。大多数变量存在于它们的函数中。但是有时候，全局变量能够用于存储项目级别的数据。
## 参数
当一个值被作为函数参数（parameter）传递时，它也被称为 参数（argument）。

换一种方式，我们把这些术语搞清楚：

- 参数（parameter）是函数声明中括号内列出的变量（它是函数声明时的术语）。
- 参数（argument）是调用函数时传递给函数的值（它是函数调用时的术语）。
```js
function showMessage(from, text) {

  from = '*' + from + '*'; // 让 "from" 看起来更优雅

  alert( from + ': ' + text );
}

let from = "Ann";

showMessage(from, "Hello"); // *Ann*: Hello

// "from" 值相同，函数修改了一个局部的副本。
alert( from ); // Ann
```
在上面的例子中，我们可以说：“函数 showMessage 被声明，并且带有两个参数（parameters），随后它被调用，两个参数（arguments）分别为 from 和 "Hello"”
## 默认值
如果一个函数被调用，但有参数（argument）未被提供，那么相应的值就会变成 undefined。

例如，之前提到的函数 showMessage(from, text) 可以只使用一个参数（argument）调用：

```js
showMessage("Ann");
```
那不是错误，这样调用将输出 "*Ann*: undefined"。因为参数 text 的值未被传递，所以变成了 undefined。

我们可以使用 = 为函数声明中的参数指定所谓的“默认”（如果对应参数的值未被传递则使用）值：
```js
function showMessage(from, text = "no text given") {
  alert( from + ": " + text );
}

showMessage("Ann"); // Ann: no text given
```
## 返回值
函数可以将一个值返回到调用代码中作为结果。
```js
function sum(a, b) {
  return a + b;
}

let result = sum(1, 2);
alert( result ); // 3
```
在一个函数中可能会出现很多次 retur

只使用 return 但没有返回值也是可行的。但这会导致函数立即退出。

空值的 return 或没有 return 的函数返回值为 undefined

不要在 return 与返回值之间添加新行
## 函数命名
函数就是行为（action）。所以它们的名字通常是动词。它应该简短且尽可能准确地描述函数的作用。这样读代码的人就能清楚地知道这个函数的功能。
- "show..." —— 显示...
- "get…" —— 返回一个值，
- "calc…" —— 计算某些内容，
- "create…" —— 创建某些内容，
- "check…" —— 检查某些内容并返回 boolean 值，等。
## 函数 == 注释
函数应该简短且只有一个功能。如果这个函数功能复杂，那么把该函数拆分成几个小的函数是值得的。有时候遵循这个规则并不是那么容易，但这绝对是件好事。

一个单独的函数不仅更容易测试和调试 —— 它的存在本身就是一个很好的注释！
## 总结
函数声明方式如下所示：
```js
function name(parameters, delimited, by, comma) {
  /* code */
}
```
- 作为参数传递给函数的值，会被复制到函数的局部变量。
- 函数可以访问外部变量。但它只能从内到外起作用。函数外部的代码看不到函数内的局部变量。
- 函数可以返回值。如果没有返回值，则其返回的结果是 undefined。
- 为了使代码简洁易懂，建议在函数中主要使用局部变量和参数，而不是外部变量。

与不获取参数但将修改外部变量作为副作用的函数相比，获取参数、使用参数并返回结果的函数更容易理解。

函数命名：

- 函数名应该清楚地描述函数的功能。当我们在代码中看到一个函数调用时，一个好的函数名能够让我们马上知道这个函数的功能是什么，会返回什么。
- 一个函数是一个行为，所以函数名通常是动词。
- 目前有许多优秀的函数名前缀，如 create…、show…、get…、check… 等等。使用它们来提示函数的作用吧。
函数是脚本的主要构建块。现在我们已经介绍了基本知识，现在我们就可以开始创建和使用函数了。但这只是学习和使用函数的开始。我们将继续学习更多函数的相关知识，更深入地研究它们的先进特征。
# 函数表达式
```js
let sayHi = function() {
  alert( "Hello" );
};
```
## 函数是一个值
重申一次：无论函数是如何创建的，函数都是一个值。上面示例在 sayHi 变量中存储了一个函数。

我们还可以用 alert 显示这个变量的值：
```js
function sayHi() {   // (1) 创建
  alert( "Hello" );
}

let func = sayHi;    // (2) 复制

func(); // Hello     // (3) 运行复制的值（正常运行）！
sayHi(); // Hello    //     这里也能运行（为什么不行呢）
```
解释一下上段代码发生的细节：

1. (1) 行声明创建了函数，并把它放入到变量 sayHi。
2. (2) 行将 sayHi 复制到了变量 func。请注意：sayHi 后面没有括号。如果有括号，func = sayHi() 会把 sayHi() 的调用结果写进func，而不是 sayHi 函数 本身。
3. 现在函数可以通过 sayHi() 和 func() 两种方式进行调用。

### 一个函数是表示一个“行为”的值
字符串或数字等常规值代表 数据。

函数可以被视为一个 行为（action）。

我们可以在变量之间传递它们，并在需要时运行。

函数表达式：

函数表达式是在代码执行到达时被创建，并且仅从那一刻起可用。

函数声明：

在函数声明被定义之前，它就可以被调用，因为函数提升，它会永远跑到最前面去。

## 总结
- 函数是值。它们可以在代码的任何地方被分配，复制或声明。
- 如果函数在主代码流中被声明为单独的语句，则称为“函数声明”。
- 如果该函数是作为表达式的一部分创建的，则称其“函数表达式”。
- 在执行代码块之前，内部算法会先处理函数声明。所以函数声明在其被声明的代码块内的任何位置都是可见的。
- 函数表达式在执行流程到达时创建。
在大多数情况下，当我们需要声明一个函数时，最好使用函数声明，因为函数在被声明之前也是可见的。这使我们在代码组织方面更具灵活性，通常也会使得代码可读性更高。

所以，仅当函数声明不适合对应的任务时，才应使用函数表达式。

# 箭头函数
```js
let sum = (a, b) => a + b;

/* 这个箭头函数是下面这个函数的更短的版本：

let sum = function(a, b) {
  return a + b;
};
*/

alert( sum(1, 2) ); // 3
```
- 如果我们只有一个参数，还可以省略掉参数外的圆括号，使代码更短。
```js
let double = n => n * 2;
```
- 如果没有参数，括号则是空的（但括号必须保留）
```js
let sayHi = () => alert("Hello!");
```
## 总结
箭头函数对于简单的操作很方便，特别是对于单行的函数。它具体有两种形式：

- 不带花括号：(...args) => expression —— 右侧是一个表达式：函数计算表达式并返回其结果。如果只有一个参数，则可以省略括号，例如 n => n*2。
- 带花括号：(...args) => { body } —— 花括号允许我们在函数中编写多个语句，但是我们需要显式地 return 来返回一些内容。
